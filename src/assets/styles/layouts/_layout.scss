@use "../variables" as v;

@layer base {
  *,
  *::before,
  *::after {
    box-sizing: border-box;
  }

  html {
    font-size: 16px;
  }

  body.site-body {
    background-attachment: fixed;
    background-color: v.$color-body-bg;
    background-image:
      radial-gradient(circle at top left, color(display-p3 0.98 0.93 0.85), transparent),
      radial-gradient(circle at bottom right, color(display-p3 0.96 0.88 0.80), transparent);
    color: v.$color-text;
    font-family: v.$font-family-sans-serif;
    margin: 0;
    min-height: 100dvh;
  }

  img {
    display: block;
    height: auto;
    max-width: 100%;
  }

  a {
    color: v.$color-accent;
    text-decoration-thickness: 0.12em;

    &:hover,
    &:focus-visible {
      text-decoration: none;
    }
  }
}

@layer layout {
  .page {
    min-height: 100svh;
  }

  .page__main {
    display: block;
    padding-block: v.space("lg");
  }

  .site-header {
    position: sticky;
    top: 0;
    z-index: 20;
  }

  .site-header .navbar {
    background: linear-gradient(
      to right,
      hwb(20deg 10% 25%),
      hwb(15deg 15% 20%)
    );
    box-shadow: 0 0.75rem 2rem rgb(0 0 0 / 18%);
  }

  .navbar-brand {
    font-family: v.$font-family-heading;
    font-weight: 700;
    letter-spacing: 0.03em;

    .fa-utensils {
      margin-right: 0.5rem;
    }
  }

  .site-nav {
    display: flex;
    gap: 0.25rem;
  }

  .site-nav__item .nav-link {
    font-weight: 500;
    position: relative;
  }

  .site-nav__item:has(> .nav-link[aria-current="page"]) .nav-link::after {
    background-color: v.$color-accent;
    border-radius: 999px;
    bottom: -0.3rem;
    content: "";
    height: 4px;
    inset-inline: 0;
    position: absolute;
  }

  .site-footer {
    background-color: rgb(255 255 255 / 85%);
    border-top: 1px solid v.$color-border-subtle;
    margin-top: v.space("lg");
  }

  .site-footer__inner {
    align-items: center;
    container-type: inline-size;
    display: flex;
    flex-wrap: wrap;
    font-size: 0.85rem;
    gap: v.space("sm");
    justify-content: space-between;
    padding-block: v.space("sm");
  }

  .site-footer__meta {
    opacity: 0.8;
  }

  @container (max-width: 40rem) {
    .site-footer__inner {
      align-items: flex-start;
      flex-direction: column;
    }
  }
}
